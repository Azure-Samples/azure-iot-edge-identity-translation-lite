# Overview
A program to create multiple MQTT clients sending random data.

usage:
```
python sim_clients.py [-h] -c CLIENTS_NUM -n CLIENTS_ROOT_NAME -i INTERVAL [--broker-ip BROKER_IP] [--broker-port BROKER_PORT]
```

### Required arguments
| Parameter | Description|
|-------------------|--------------------------------------------|
| `-c CLIENTS_NUM`      | Number of mqtt clients to be created. Default is 20.|
| `-n CLIENTS_ROOT_NAME`  | client ID is generated by appending an incremental number "i" to this root name.|
| `-i INTERVAL`      | interval (in seconds) between messages from a specific devices. Example: 0.5    |   

### Optional arguments
| Parameter | Description|
|-------------------|--------------------------------------------|
| `--broker-ip BROKER_IP`      | ip address of the MQTT broker. Default is 127.0.0.1|
| `--broker-port BROKER_PORT`  | port of the MQTT broker. Default is 1883|

### Message structure
Each client will send a message with the following structure:
```json
{
    "param1": <random int the range [0,100]>,
    "param2": <random float>
}
```

Here's an example:
```json
{
    "param1": 27, 
    "param2": 0.8243972510356947
}
```

## Examples:
To create 10 clients with names "device0", "device1", ..., "device9" sending a random message every 0.5 seconds:

   python sim_clients.py -c 10 -n device -i 0.5

## Pre-requisites
This script requires:
* python 3.x
* paho-mqtt

To install python:
```
```

To install the paho mqtt client:
```
pip install paho-mqtt
```